<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows 98 Desktop Clone</title>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src https://win98icons.alexmeub.com 'self'; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline';">
    <!-- Link to external CSS -->
    <link rel="stylesheet" href="css/win98.css">
</head>
<body>
    <!-- Desktop container: Icons will be dynamically added here -->
    <div id="desktop" class="desktop"></div>

    <!-- Taskbar with Start button, task buttons area, and system tray -->
    <div class="taskbar">
        <div id="start-button" class="start-button">
            <img src="icons/windows-0.png" alt="Start">
            <span>Start</span>
        </div>
        <div class="taskbar-divider"></div>
        <div id="task-buttons" class="task-buttons"></div>
        <div class="system-tray">
            <div id="system-tray-time" class="system-tray-time">12:00 PM</div>
        </div>
    </div>

    <!-- Start Menu -->
    <div id="start-menu" class="start-menu">
        <div class="start-menu-items">
            <div class="start-menu-header">
                Windows<span style="font-size: 16px; font-weight: normal;">98</span>
            </div>
            <div class="start-menu-left">
                <div class="start-menu-item" data-action="windows-update">
                    <img src="icons/windows_update_large-0.png" alt="Windows Update">
                    <span>Windows Update</span>
                </div>
                <div class="start-menu-separator"></div>
                <div class="start-menu-item" data-action="programs">
                    <img src="icons/directory_program_group-0.png" alt="Programs">
                    <span>Programs</span>
                    <span class="submenu-arrow">▶</span>
                </div>
                <div class="start-menu-item" data-action="documents">
                    <img src="icons/directory_open_file_mydocs-0.png" alt="Documents">
                    <span>Documents</span>
                    <span class="submenu-arrow">▶</span>
                </div>
                <div class="start-menu-item" data-action="settings">
                    <img src="icons/directory_control_panel-0.png" alt="Settings">
                    <span>Settings</span>
                    <span class="submenu-arrow">▶</span>
                </div>
                <div class="start-menu-item" data-action="find">
                    <img src="icons/search_file-0.png" alt="Find">
                    <span>Find</span>
                    <span class="submenu-arrow">▶</span>
                </div>
                <div class="start-menu-item" data-action="help">
                    <img src="icons/help_book-0.png" alt="Help">
                    <span>Help</span>
                </div>
                <div class="start-menu-item" data-action="run">
                    <img src="icons/application_hourglass-0.png" alt="Run">
                    <span>Run...</span>
                </div>
                <div class="start-menu-separator"></div>
                <div class="start-menu-item" data-action="shutdown">
                    <img src="icons/shut_down-0.png" alt="Shut Down">
                    <span>Shut Down...</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Desktop Context Menu (initially hidden) -->
    <div id="desktop-context-menu" class="context-menu" style="display: none;">
        <div class="context-menu-item" data-action="view">
            <img src="icons/view_details-0.png" alt="View">
            <span>View</span>
        </div>
        <div class="context-menu-item" data-action="arrange">
            <img src="icons/align_centered-0.png" alt="Arrange Icons">
            <span>Arrange Icons</span>
        </div>
        <div class="context-menu-item" data-action="lineUp">
            <img src="icons/align_horizontally-0.png" alt="Line Up Icons">
            <span>Line Up Icons</span>
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" data-action="paste">
            <img src="icons/paste-0.png" alt="Paste">
            <span>Paste</span>
        </div>
        <div class="context-menu-item" data-action="pasteShortcut">
            <img src="icons/paste_shortcut-0.png" alt="Paste Shortcut">
            <span>Paste Shortcut</span>
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" data-action="newFolder">
            <img src="icons/directory_closed-0.png" alt="New Folder">
            <span>New</span>
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" data-action="properties">
            <img src="icons/properties-0.png" alt="Properties">
            <span>Properties</span>
        </div>
    </div>

    <!-- Welcome to Windows 98 Dialog -->
    <div id="welcome-dialog" class="welcome-dialog" style="display: none;">
        <div class="welcome-dialog-content">
            <div class="welcome-dialog-header">
                <span class="welcome-dialog-title">Welcome to Windows 98</span>
                <button class="welcome-dialog-close" id="welcome-close-btn">×</button>
            </div>
            <div class="welcome-dialog-body">
                <div class="welcome-dialog-left">
                    <img src="icons/windows-0.png" alt="Windows 98" class="welcome-logo">
                    <div class="welcome-sidebar">
                        <div class="welcome-sidebar-item">Register Now</div>
                        <div class="welcome-sidebar-item">Connect to the Internet</div>
                        <div class="welcome-sidebar-item">Discover Windows 98</div>
                        <div class="welcome-sidebar-item">Maintain Your Computer</div>
                    </div>
                </div>
                <div class="welcome-dialog-right">
                    <h2>Welcome</h2>
                    <p>Welcome to the exciting world of Windows 98, where your computer desktop meets the Internet!</p>
                    <p>So back and relax as you take a virtual tour of the options available on this screen.</p>
                    <p>If you want to explore an option, just click it.</p>
                    <div class="welcome-checkbox">
                        <input type="checkbox" id="show-welcome" checked>
                        <label for="show-welcome">Show this screen each time Windows 98 starts</label>
                    </div>
                </div>
            </div>
            <div class="welcome-dialog-footer">
                <button class="welcome-dialog-button" id="welcome-close-footer">Close</button>
            </div>
        </div>
    </div>

    <!-- Include JavaScript files (order is important!) -->
    <!-- Configuration and State -->
    <script src="js/config.js"></script>
    <script src="js/state.js"></script>

    <!-- Data -->
    <script src="js/data/fileSystemData.js"></script>
    <script src="js/data/programsData.js"></script>

    <!-- Utilities -->
    <script src="js/utils/fileSystem.js"></script>
    <script src="js/utils/draggable.js"></script>
    <script src="js/utils/resizable.js"></script>
    <script src="js/utils/time.js"></script>

    <!-- Window System (Core first, then modules) -->
    <script src="js/windows/core.js"></script>
    <script src="js/windows/apps.js"></script>

    <!-- Components -->
    <script src="js/components/desktop.js"></script>
    <script src="js/components/taskbar.js"></script>
    <script src="js/components/windows.js"></script>
    <script src="js/components/menus.js"></script>
    <script src="js/components/recycleBin.js"></script>

    <!-- Integration -->
    <script src="js/windows/integration.js"></script>

    <!-- Main Initialization -->
    <script src="js/main.js"></script>
</body>
</html>
